# ドキュメント編集・追加ガイドライン

このファイルは、docsディレクトリのファイルを編集・追加する際の方針を定めています。

## 🎯 基本方針

### 重複排除の徹底
- **同じ内容を複数のファイルに書かない**
- 詳細情報は1つのファイルに集約し、他からは参照する
- コマンドで確認できる情報は実際のコマンド実行を案内

### 汎用性の重視
- **特定の実装に依存しない記述**
- プロジェクト固有の値ではなく、一般的なパターンを示す
- 例: `apps/web` ではなく `apps/project-name`

### 階層的な情報設計
- **概要 → 詳細** の流れを意識
- エントリーポイント（README.md、quick-reference.md）は簡潔に
- 詳細ガイドで深い情報を提供

## 📁 ファイル役割の明確化

### README.md
- **役割**: プロジェクト概要とナビゲーション
- **内容**: 最小限の概要、ドキュメント一覧、基本的な開始手順
- **避ける**: 詳細なコマンド説明、具体的な設定例

### quick-reference.md
- **役割**: 最も頻繁に使用する情報の集約
- **内容**: 必須コマンド、基本構成、重要な設定ファイル一覧
- **避ける**: 全コマンドの羅列、詳細な説明

### 詳細ガイド
各ファイルは特定の領域に特化し、他のファイルと重複しない情報を提供する

## ✍️ 記述ルール

### コマンド情報
```markdown
❌ 悪い例:
```bash
moon run web:dev  # webプロジェクトの開発サーバー起動
```

✅ 良い例:
```bash
moon run project-name:dev  # プロジェクトの開発サーバー起動
```

または

```markdown
実際のコマンドは `moon query tasks` で確認してください。
```

### 設定例
```markdown
❌ 悪い例: 実際の設定をそのまま貼り付け

✅ 良い例: パターンとして抽象化
```yaml
# project-name/moon.yml
project:
  name: "Project Display Name"
  description: "プロジェクトの説明"
```

### バージョン情報
```markdown
❌ 悪い例: "TypeScript 5.5.4を使用"
✅ 良い例: "最新のTypeScriptを使用（package.jsonで確認）"
```

## 🔄 更新時の作業フロー

### 1. ファイル編集時
- 関連するdocsファイルの更新が必要か検討
- 重複が生じていないか確認
- 汎用的な表現になっているか確認

### 2. docsファイル追加・編集時
- **README.mdの更新**: ナビゲーションに追加が必要か
- **相互参照の確認**: 他ファイルからの適切なリンク
- **CLAUDE.mdの更新**: 重要な変更の場合は反映

### 3. 実装変更時
- **ドキュメントとの整合性確認**
- コマンドや設定が変更された場合は対応するdocsを更新

## 🚫 避けるべき記述

### 具体的すぎる情報
- 特定のバージョン番号
- 特定のファイルパス（例外: 重要な設定ファイル）
- 特定のプロジェクト名（webやshared等）

### 重複する情報
- 他のファイルで既に説明されている内容の再掲
- コマンドヘルプで確認できる情報の詳細説明

### 変更されやすい情報
- パッケージの具体的なバージョン
- 開発環境固有の設定
- 一時的な回避策

## ✅ 推奨する記述

### 参照型の記述
```markdown
詳細は以下のコマンドで確認してください:
```bash
moon query projects
moon task project-name:task-name
```

### パターン型の説明
```markdown
新しいプロジェクトの基本構成:
```
project-root/
├── src/
├── package.json
├── tsconfig.json
└── moon.yml
```

### 原則型の説明
```markdown
## 設定の原則
- 依存関係は明示的に定義する
- ファイルグループでキャッシュを効率化する
- プロジェクト間の循環依存を避ける
```

## 📋 編集チェックリスト

新しいドキュメントを作成・編集する際の確認項目:

- [ ] 他のファイルとの重複がない
- [ ] 汎用的な表現になっている
- [ ] 適切なファイルに配置されている
- [ ] 必要に応じてREADME.mdのナビゲーションを更新
- [ ] 相互参照リンクが適切
- [ ] コマンドで確認できる情報は実行方法を案内
- [ ] 実装の変更に強い記述になっている

## 🎯 目指すドキュメント品質

- **ユーザーが迷わない**: 必要な情報にすぐたどり着ける
- **保守しやすい**: 実装変更時の修正箇所が最小限
- **再利用可能**: 他のプロジェクトでも参考になる抽象度
- **一貫性**: 全ファイルで統一された記述スタイル